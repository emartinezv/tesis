<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>gsm: parser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">gsm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">parser</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module handles AT token parsing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga06818542b3c471ba114965d1526d106d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga06818542b3c471ba114965d1526d106d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>debug</b>(msg)</td></tr>
<tr class="separator:ga06818542b3c471ba114965d1526d106d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga8cab84c9b4b75e24b273e7dc9d5152b2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__parser.html#ga8cab84c9b4b75e24b273e7dc9d5152b2">tknTypeParser_t</a> { <br/>
&#160;&#160;<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2aef2863a469df3ea6871d640e3669a2f2">INVALID</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2ae0bc6dc3f72c7f7ed46e8c5c20f0808c">AUTOBAUD</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2ae25c51a61bcc2883119b535fdfd3267b">BASIC_CMD</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2ae1e9bdf33e47e29e2d1dcd8c427e6824">BASIC_CMD_AMP</a>, 
<br/>
&#160;&#160;<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2a74915f57e53ef4350232ac68246b7ea0">EXT_CMD_TEST</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2a4c66a968d37626eba5a5ffa164479721">EXT_CMD_WRITE</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2af82452fc68ab63a1ae6c8220e732021e">EXT_CMD_READ</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2a544a3ec0d4b80d3374403976dcbfba2c">EXT_CMD_EXEC</a>, 
<br/>
&#160;&#160;<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2a5234717396fbfcc32c8d97e6abcebc42">SMS_BODY_P</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2aef0c47fa94c20f39aa2049470d716020">BASIC_RSP</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2a03724d5f5ce7c64094a5129c03dedac5">DATA_BLOCK_P</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2abde5f2c5956da1e22795670dbf640a4b">SMS_PROMPT_P</a>, 
<br/>
&#160;&#160;<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2a567e76000c15d199520e19d02982d9fd">EXT_RSP</a>, 
<a class="el" href="group__parser.html#gga8cab84c9b4b75e24b273e7dc9d5152b2aad9dee005a3d0f9137b2ac1e0869f89b">TIMEOUT</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga8cab84c9b4b75e24b273e7dc9d5152b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of AT token as per the parse function; used to feed the cmd FSM.  <a href="group__parser.html#ga8cab84c9b4b75e24b273e7dc9d5152b2">More...</a><br/></td></tr>
<tr class="separator:ga8cab84c9b4b75e24b273e7dc9d5152b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaadf9c32404a6261eb7cab788f56f1599"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__parser.html#ga8cab84c9b4b75e24b273e7dc9d5152b2">tknTypeParser_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__parser.html#gaadf9c32404a6261eb7cab788f56f1599">gsmParseTkn</a> (uint8_t const *const tkn, uint8_t *cmd, uint8_t *par, uint16_t tknLen)</td></tr>
<tr class="memdesc:gaadf9c32404a6261eb7cab788f56f1599"><td class="mdescLeft">&#160;</td><td class="mdescRight">AT token parser.  <a href="#gaadf9c32404a6261eb7cab788f56f1599">More...</a><br/></td></tr>
<tr class="separator:gaadf9c32404a6261eb7cab788f56f1599"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module handles AT token parsing. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga8cab84c9b4b75e24b273e7dc9d5152b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__parser.html#ga8cab84c9b4b75e24b273e7dc9d5152b2">tknTypeParser_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of AT token as per the parse function; used to feed the cmd FSM. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2aef2863a469df3ea6871d640e3669a2f2"></a>INVALID</em>&#160;</td><td class="fielddoc">
<p>Token is invalid </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2ae0bc6dc3f72c7f7ed46e8c5c20f0808c"></a>AUTOBAUD</em>&#160;</td><td class="fielddoc">
<p>Token is the autobauding sequence </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2ae25c51a61bcc2883119b535fdfd3267b"></a>BASIC_CMD</em>&#160;</td><td class="fielddoc">
<p>Token is a basic command </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2ae1e9bdf33e47e29e2d1dcd8c427e6824"></a>BASIC_CMD_AMP</em>&#160;</td><td class="fielddoc">
<p>Token is a basic command with ampersand </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2a74915f57e53ef4350232ac68246b7ea0"></a>EXT_CMD_TEST</em>&#160;</td><td class="fielddoc">
<p>Token is a extended test command </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2a4c66a968d37626eba5a5ffa164479721"></a>EXT_CMD_WRITE</em>&#160;</td><td class="fielddoc">
<p>Token is a extended test command </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2af82452fc68ab63a1ae6c8220e732021e"></a>EXT_CMD_READ</em>&#160;</td><td class="fielddoc">
<p>Token is a extended test command </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2a544a3ec0d4b80d3374403976dcbfba2c"></a>EXT_CMD_EXEC</em>&#160;</td><td class="fielddoc">
<p>Token is a extended test command </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2a5234717396fbfcc32c8d97e6abcebc42"></a>SMS_BODY_P</em>&#160;</td><td class="fielddoc">
<p>Token is the body of an SMS </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2aef0c47fa94c20f39aa2049470d716020"></a>BASIC_RSP</em>&#160;</td><td class="fielddoc">
<p>Token is a basic response </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2a03724d5f5ce7c64094a5129c03dedac5"></a>DATA_BLOCK_P</em>&#160;</td><td class="fielddoc">
<p>Token is a DATA block from a response </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2abde5f2c5956da1e22795670dbf640a4b"></a>SMS_PROMPT_P</em>&#160;</td><td class="fielddoc">
<p>Token is the SMS prompt </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2a567e76000c15d199520e19d02982d9fd"></a>EXT_RSP</em>&#160;</td><td class="fielddoc">
<p>Token is an extended response </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga8cab84c9b4b75e24b273e7dc9d5152b2aad9dee005a3d0f9137b2ac1e0869f89b"></a>TIMEOUT</em>&#160;</td><td class="fielddoc">
<p>Dummy value for timeout events </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaadf9c32404a6261eb7cab788f56f1599"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__parser.html#ga8cab84c9b4b75e24b273e7dc9d5152b2">tknTypeParser_t</a> gsmParseTkn </td>
          <td>(</td>
          <td class="paramtype">uint8_t const *const&#160;</td>
          <td class="paramname"><em>tkn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>par</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>tknLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AT token parser. </p>
<p>The function takes a pointer to token, two buffers (cmd and par) and the length of the token. In the AT protocol, most tokens have a command part and optional parameters which specify variable input. Not all tokens have parameters, but all of them have a command part.</p>
<p>This function returns the token type plus the command part in cmd and the parameter part (if present) in par. It turns the "raw" token we get from the tokenizer into something usable by the engine module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tkn</td><td>: Pointer to AT token (processed by tokenizer) </td></tr>
    <tr><td class="paramname">cmd</td><td>: AT command buffer </td></tr>
    <tr><td class="paramname">par</td><td>: AT parameter buffer </td></tr>
    <tr><td class="paramname">tknLen</td><td>: Length of the received token</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Type of AT token in an tknTypeParser_t enum, as well as the command and parameter parts in their corresponding buffers </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 21 2019 17:55:55 for gsm by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>

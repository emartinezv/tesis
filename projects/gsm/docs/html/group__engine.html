<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>gsm: engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">gsm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">engine</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module handles the internal engine of the library, including the different states of the modem and the execution of commands.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga06818542b3c471ba114965d1526d106d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga06818542b3c471ba114965d1526d106d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>debug</b>(msg)</td></tr>
<tr class="separator:ga06818542b3c471ba114965d1526d106d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9ee1723fd0e6609fde34a2e12cace6e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9ee1723fd0e6609fde34a2e12cace6e1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>gsmInitEngine</b> (gsmEngine_t *const engine)</td></tr>
<tr class="separator:ga9ee1723fd0e6609fde34a2e12cace6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac86762674d730cdaf7bbab7ccf8c3534"><td class="memItemLeft" align="right" valign="top">fsmEvent_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__engine.html#gac86762674d730cdaf7bbab7ccf8c3534">gsmProcessTkn</a> (gsmEngine_t *const engine)</td></tr>
<tr class="separator:gac86762674d730cdaf7bbab7ccf8c3534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7a018a0d0e09e6cbecf742415440443"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae7a018a0d0e09e6cbecf742415440443"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>gsmToutCntZero</b> (gsmEngine_t *const engine)</td></tr>
<tr class="separator:gae7a018a0d0e09e6cbecf742415440443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67a6467cde604f96bf10d082781b6a2f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga67a6467cde604f96bf10d082781b6a2f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>gsmDecToutCnt</b> (gsmEngine_t *const engine)</td></tr>
<tr class="separator:ga67a6467cde604f96bf10d082781b6a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11352fbf2f18f8254c28d2a0c62877fb"><td class="memItemLeft" align="right" valign="top">fsmEvent_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__engine.html#ga11352fbf2f18f8254c28d2a0c62877fb">gsmSendCmd</a> (gsmEngine_t *const engine, const uint8_t *const cmdStr)</td></tr>
<tr class="separator:ga11352fbf2f18f8254c28d2a0c62877fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga503b39ab73c118dbf326d696b3d0a80d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga503b39ab73c118dbf326d696b3d0a80d"></a>
rsp_t&#160;</td><td class="memItemRight" valign="bottom"><b>gsmGetCmdRsp</b> (gsmEngine_t *const engine)</td></tr>
<tr class="separator:ga503b39ab73c118dbf326d696b3d0a80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad14f969eece519e89ca3df599e073600"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad14f969eece519e89ca3df599e073600"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>gsmGetNoCmdRsp</b> (const gsmEngine_t *const engine)</td></tr>
<tr class="separator:gad14f969eece519e89ca3df599e073600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d8508724afd2e95a8bfd87bf2bd3999"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0d8508724afd2e95a8bfd87bf2bd3999"></a>
rsp_t&#160;</td><td class="memItemRight" valign="bottom"><b>gsmGetUrc</b> (gsmEngine_t *const engine)</td></tr>
<tr class="separator:ga0d8508724afd2e95a8bfd87bf2bd3999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86a76bf9d8344a98def8d41a4db5f3fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga86a76bf9d8344a98def8d41a4db5f3fb"></a>
serialMode_t&#160;</td><td class="memItemRight" valign="bottom"><b>gsmGetSerialMode</b> (const gsmEngine_t *const engine)</td></tr>
<tr class="separator:ga86a76bf9d8344a98def8d41a4db5f3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0cc4ba16ecadcde47ab5303860c88c0d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0cc4ba16ecadcde47ab5303860c88c0d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>gsmSetSerialMode</b> (gsmEngine_t *const engine, serialMode_t mode)</td></tr>
<tr class="separator:ga0cc4ba16ecadcde47ab5303860c88c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module handles the internal engine of the library, including the different states of the modem and the execution of commands. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac86762674d730cdaf7bbab7ccf8c3534"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsmEvent_t gsmProcessTkn </td>
          <td>(</td>
          <td class="paramtype">gsmEngine_t *const&#160;</td>
          <td class="paramname"><em>engine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The processToken function reads the UART, calls the gsmDetectTkns function and then checks if there are unread tokens in the token ring buffer. If so, it reads the oldest token, parses the token through the parse function and calls upon the gsmUpdateFsm function with the result. It then passes along the return value of the gsmUpdateFsm call. </p>

</div>
</div>
<a class="anchor" id="ga11352fbf2f18f8254c28d2a0c62877fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsmEvent_t gsmSendCmd </td>
          <td>(</td>
          <td class="paramtype">gsmEngine_t *const&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *const&#160;</td>
          <td class="paramname"><em>cmdStr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The gsmSendCmd parses cmdStr, makes sure that it is a recognized command and writes it in the correct format to the serial port. Afterwards, gsmUpdateFsm is called. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 21 2019 17:55:55 for gsm by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
